{"version":3,"file":"js/app.695de79f.js","mappings":"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","sources":["webpack://floor-planner/./src/App.vue","webpack://floor-planner/./src/App.vue?7ccd","webpack://floor-planner/./src/components/HomePage.vue","webpack://floor-planner/./src/components/HomePage.vue?8b1a","webpack://floor-planner/./src/router/index.js","webpack://floor-planner/./src/main.js","webpack://floor-planner/webpack/bootstrap","webpack://floor-planner/webpack/runtime/chunk loaded","webpack://floor-planner/webpack/runtime/compat get default export","webpack://floor-planner/webpack/runtime/define property getters","webpack://floor-planner/webpack/runtime/global","webpack://floor-planner/webpack/runtime/hasOwnProperty shorthand","webpack://floor-planner/webpack/runtime/publicPath","webpack://floor-planner/webpack/runtime/jsonp chunk loading","webpack://floor-planner/webpack/startup"],"sourcesContent":["<template>\n    <router-view/>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n}\n</script>\n\n<style>\n*{\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nhtml,body,#app{\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=664c53a4\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=664c53a4&lang=css\"\n\nimport exportComponent from \"E:\\\\Task Assignment Vue\\\\floor-planner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div id=\"homePage\">\r\n    <div id=\"topToolbar\">\r\n      <button class=\"btn\" v-on:click=\"downloadCanvasImage\">Download as image</button>\r\n    </div>\r\n    <div class=\"main-wrapper\">\r\n      <div id=\"sideToolbar\">\r\n        <div class=\"icon\" v-for=\"ele in toolbarEle\" :key=\"ele.name\">\r\n          <img\r\n            :src=\"ele.imgSrc\"\r\n            alt=\"\"\r\n            srcset=\"\"\r\n            v-bind:id=\"ele.eleId\"\r\n            v-bind:ele-type=\"ele.name\"\r\n            @dragstart=\"dragStart(ele)\"\r\n          />\r\n          <h1>{{ ele.name }}</h1>\r\n        </div>\r\n      </div>\r\n      <div\r\n        ref=\"canvas\"\r\n        class=\"canvas-wrapper\"\r\n        id=\"container\"\r\n        @dragover.prevent=\"dragOver\"\r\n        @drop.prevent=\"dropOver\"\r\n      ></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Konva from \"konva\";\r\nexport default {\r\n  name: \"HomePage\",\r\n  data() {\r\n    return {\r\n      stage: null,\r\n      layer: null,\r\n      transformer: null,\r\n      eleSelected: null,\r\n      eleInjected: false,\r\n      previousPosOfShape: null,\r\n      shape: null,\r\n      toolbarEle: [\r\n        { eleId: 1, name: \"floor\", imgSrc: require(\"../assets/floor.png\") },\r\n        { eleId: 2, name: \"cabin\", imgSrc: require(\"../assets/cabin.png\") },\r\n        { eleId: 3, name: \"seat\", imgSrc: require(\"../assets/seat.png\") },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    let vm = this;\r\n    this.$nextTick(() => {\r\n      if (vm.$refs[\"canvas\"]) {\r\n        let height = window.innerHeight * 0.9;\r\n        let width = window.innerWidth - 50;\r\n\r\n        this.stage = new Konva.Stage({\r\n          container: \"container\",\r\n          width: width,\r\n          height: height,\r\n        });\r\n        this.layer = new Konva.Layer();\r\n        this.transformer = new Konva.Transformer();\r\n        this.layer.add(this.transformer);\r\n        this.stage.on(\"click\", (ev) => {\r\n          let isStage = ev.target.getAttr(\"container\");\r\n          if (!isStage) {\r\n            this.shape = ev.target;\r\n            this.eleSelected = parseInt(ev.target.getAttr(\"id\").slice(-1));\r\n            this.transformer.nodes([ev.target]);\r\n          } else {\r\n            this.transformer.detach();\r\n          }\r\n          this.updateStage();\r\n        });\r\n        document.addEventListener(\"click\", () => {\r\n          if (this.transformer) {\r\n            this.transformer.detach();\r\n            this.updateStage();\r\n          }\r\n        });\r\n        document.addEventListener(\"keydown\", (evt) => {\r\n          if (vm.transformer && evt.key == \"Delete\" && this.shape) {\r\n            vm.eliminateCurrentEle();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    dragOver(event) {\r\n      if (!this.eleInjected) {\r\n        this.injectEleToCanvas();\r\n      } else {\r\n        this.moveInjecteEle(event);\r\n      }\r\n    },\r\n    dragStart(ele) {\r\n      this.eleSelected = ele.eleId;\r\n      this.eleInjected = false;\r\n    },\r\n    dropOver() {\r\n      this.checkElementConstraints();\r\n    },\r\n    injectEleToCanvas() {\r\n      this.eleInjected = true;\r\n      let box = this.getKonvaEle();\r\n      if (box) {\r\n        let vm = this;\r\n        box.on(\"dragstart\", function (ev) {\r\n          vm.shape = ev.target;\r\n          if (vm.shape) {\r\n            vm.transformer.nodes([ev.target]);\r\n            vm.updateStage();\r\n          }\r\n          vm.eleSelected = parseInt(vm.shape.getAttr(\"id\").slice(-1));\r\n          vm.previousPosOfShape = vm.shape.getClientRect();\r\n        });\r\n        box.on(\"dragend\", () => {\r\n          vm.checkElementConstraints();\r\n        });\r\n\r\n        box.on(\"dragmove\", function () {\r\n          document.body.style.cursor = \"pointer\";\r\n          vm.eleSelected = parseInt(vm.shape.getAttr(\"id\").slice(-1));\r\n        });\r\n\r\n        box.on(\"mouseover\", function () {\r\n          document.body.style.cursor = \"pointer\";\r\n        });\r\n        box.on(\"mouseout\", function () {\r\n          document.body.style.cursor = \"default\";\r\n        });\r\n        box.zIndex(this.eleSelected);\r\n        let layer = new Konva.Layer();\r\n        layer.add(box);\r\n        this.stage.add(layer);\r\n        this.transformer.nodes([box]);\r\n        layer.add(this.transformer);\r\n        this.stage.add(layer);\r\n        this.shape = box;\r\n      }\r\n    },\r\n    getKonvaEle() {\r\n      if (this.eleSelected) {\r\n        switch (this.eleSelected) {\r\n          case 1:\r\n            return new Konva.Rect({\r\n              x: 35,\r\n              y: 35,\r\n              fill: \"grey\",\r\n              stroke: \"black\",\r\n              strokeWidth: 2,\r\n              strokeScaleEnabled: false,\r\n              draggable: true,\r\n              width: 50,\r\n              height: 50,\r\n              id: \"myEle1\",\r\n            });\r\n          case 2:\r\n            return new Konva.Rect({\r\n              x: 35,\r\n              y: 35,\r\n              fill: \"#fafafa\",\r\n              stroke: \"black\",\r\n              strokeWidth: 2,\r\n              strokeScaleEnabled: false,\r\n              draggable: true,\r\n              width: 25,\r\n              height: 25,\r\n              id: \"myEle2\",\r\n            });\r\n          case 3:\r\n            var imageObj = new Image();\r\n            imageObj.src = require(\"../assets/seat.png\");\r\n            return new Konva.Image({\r\n              x: 50,\r\n              y: 50,\r\n              image: imageObj,\r\n              width: 20,\r\n              height: 20,\r\n              draggable: true,\r\n              id: \"myEle3\",\r\n            });\r\n        }\r\n      }\r\n    },\r\n    moveInjecteEle(event) {\r\n      if (this.shape) {\r\n        let shape = this.shape;\r\n        shape.setAttrs({\r\n          x: event.offsetX - shape.getAttrs().width / 2,\r\n          y: event.offsetY - shape.getAttrs().height / 2,\r\n        });\r\n      }\r\n    },\r\n    updateStage() {\r\n      this.layer.add(this.transformer);\r\n      this.stage.add(this.layer);\r\n    },\r\n    checkElementConstraints() {\r\n      switch (this.eleSelected) {\r\n        case 1:\r\n          this.checkFloorPos();\r\n          break;\r\n        case 2:\r\n          this.checkCabinPos();\r\n          break;\r\n        case 3:\r\n          this.checkChairPos();\r\n          break;\r\n      }\r\n    },\r\n    checkFloorPos() {},\r\n    checkCabinPos() {\r\n      let elements = this.stage.find(\"#myEle\" + 1);\r\n      let haveIntersection = false;\r\n      if (elements.length) {\r\n        elements.some((ele) => {\r\n          if (this.haveIntersection(ele.getClientRect(), this.shape.getClientRect())) {\r\n            haveIntersection = true;\r\n            return true;\r\n          }\r\n        });\r\n      }\r\n      if (!haveIntersection) {\r\n        this.eliminateCurrentEle();\r\n      }\r\n    },\r\n    checkChairPos() {\r\n      let elements = this.stage.find(\"#myEle\" + 2);\r\n      let haveIntersection = false;\r\n      if (elements.length) {\r\n        elements.some((ele) => {\r\n          if (\r\n            this.haveIntersection(ele.getClientRect(), this.shape.getClientRect()) &&\r\n            !this.hasAChair(ele)\r\n          ) {\r\n            haveIntersection = true;\r\n            return true;\r\n          }\r\n        });\r\n      }\r\n      if (!haveIntersection) {\r\n        this.eliminateCurrentEle();\r\n      }\r\n    },\r\n    haveIntersection(r1, r2) {\r\n      return !(\r\n        r2.x > r1.x + r1.width ||\r\n        r2.x + r2.width < r1.x ||\r\n        r2.y > r1.y + r1.height ||\r\n        r2.y + r2.height < r1.y\r\n      );\r\n    },\r\n    eliminateCurrentEle() {\r\n      this.transformer.destroy();\r\n      this.shape.destroy();\r\n      this.eleInjected = false;\r\n      this.transformer = new Konva.Transformer();\r\n      this.updateStage();\r\n    },\r\n    downloadCanvasImage() {\r\n      this.transformer.destroy();\r\n      this.transformer = new Konva.Transformer();\r\n      this.updateStage();\r\n      var dataURL = this.stage.toDataURL({ pixelRatio: 3 });\r\n      var link = document.createElement(\"a\");\r\n      link.download = \"CanvasImage.png\";\r\n      link.href = dataURL;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    },\r\n    hasAChair(ele) {\r\n      let elements = this.stage.find(\"#myEle\" + 3);\r\n      let haveIntersection = false;\r\n      if (elements.length) {\r\n        elements.some((el) => {\r\n          if (\r\n            el != this.shape &&\r\n            this.haveIntersection(el.getClientRect(), ele.getClientRect())\r\n          ) {\r\n            haveIntersection = true;\r\n            return true;\r\n          }\r\n        });\r\n      }\r\n      return haveIntersection;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n#homePage {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#topToolbar {\r\n  width: 100%;\r\n  height: 10%;\r\n  background-color: #f5f5f5;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.main-wrapper {\r\n  width: 100%;\r\n  height: 90%;\r\n  display: flex;\r\n}\r\n#sideToolbar {\r\n  width: 50px;\r\n  height: 100%;\r\n  background-color: #dadada;\r\n}\r\n.canvas-wrapper {\r\n  width: calc(100% - 50px);\r\n  height: 100%;\r\n}\r\n#canvas {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.icon {\r\n  width: 100%;\r\n  /* height: 60px; */\r\n  padding: 15px 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  user-select: none;\r\n}\r\n.icon h1 {\r\n  font-size: 15px;\r\n  text-transform: capitalize;\r\n  /* margin-bottom: 10px; */\r\n}\r\n.icon img {\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n.icon .floor {\r\n  background-color: grey;\r\n}\r\n.btn {\r\n   padding: 5px 10px;\r\n  background: #dadada;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 10px;\r\n  background-color: #0050b3;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  color: white;\r\n  outline: none;\r\n  border: none;\r\n}\r\n</style>\r\n","import { render } from \"./HomePage.vue?vue&type=template&id=5f1cda4b&scoped=true\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=5f1cda4b&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Task Assignment Vue\\\\floor-planner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5f1cda4b\"]])\n\nexport default __exports__","import {\r\n    createRouter,\r\n    createWebHistory\r\n} from 'vue-router'\r\nimport HomePage from '@/components/HomePage.vue'\r\nconst routes = [{\r\n        path: '/',\r\n        redirect: '/home'\r\n    },\r\n    {\r\n        path: '/home',\r\n        name: 'Home',\r\n        component: HomePage\r\n    },\r\n    {\r\n        path: '/:pathMatch(.*)*',\r\n        redirect: '/'\r\n    }\r\n]\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(process.env.BASE_URL),\r\n    routes\r\n})\r\n\r\nexport default router","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from \"./router\"\nconst vueApp = createApp(App);\nvueApp.use(router);\nvueApp.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/Task1/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfloor_planner\"] = self[\"webpackChunkfloor_planner\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2208); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","name","__exports__","render","id","class","_createElementBlock","_createElementVNode","onClick","$options","_Fragment","_renderList","$data","ele","key","src","imgSrc","alt","srcset","eleId","onDragstart","_toDisplayString","ref","onDragover","onDrop","data","stage","layer","transformer","eleSelected","eleInjected","previousPosOfShape","shape","toolbarEle","require","created","vm","this","$nextTick","$refs","height","window","innerHeight","width","innerWidth","Konva","container","add","on","ev","isStage","target","getAttr","detach","parseInt","slice","nodes","updateStage","document","addEventListener","evt","eliminateCurrentEle","mounted","methods","dragOver","event","moveInjecteEle","injectEleToCanvas","dragStart","dropOver","checkElementConstraints","box","getKonvaEle","getClientRect","body","style","cursor","zIndex","x","y","fill","stroke","strokeWidth","strokeScaleEnabled","draggable","imageObj","Image","image","setAttrs","offsetX","getAttrs","offsetY","checkFloorPos","checkCabinPos","checkChairPos","elements","find","haveIntersection","length","some","hasAChair","r1","r2","destroy","downloadCanvasImage","dataURL","toDataURL","pixelRatio","link","createElement","download","href","appendChild","click","removeChild","el","routes","path","redirect","component","HomePage","router","createRouter","history","createWebHistory","process","vueApp","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}